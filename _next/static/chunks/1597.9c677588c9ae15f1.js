"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1597],{71597:function(e,t,l){l.r(t),l.d(t,{DonutChart:function(){return o}});var n=l(85893),s=l(67294),c=l(45697),r=l.n(c),a=l(29238),i=l.n(a);let o=e=>{let{title:t,data:l,circleColor:c,titleColor:r}=e,a=(0,s.useRef)(null),[o,d]=(0,s.useState)({top:0,left:0}),[h,u]=(0,s.useState)("-1"),p=0,x={top:o.top,left:o.left,display:"-1"!==h?"block":"none"},f=e=>[Math.cos(2*Math.PI*e),Math.sin(2*Math.PI*e)],_=e=>{let{top:t,left:l,right:n}=a.current.getBoundingClientRect();n-e.clientX<120&&(l+=120),d({top:e.clientY-t,left:e.clientX-l}),u(e.target.getAttribute("data-index"))};return(0,n.jsxs)("div",{className:"donut-chart",onMouseOut:()=>u("-1"),onBlur:()=>u("-1"),children:[(0,n.jsx)("p",{className:"donut-chart__label",dangerouslySetInnerHTML:{__html:i().sanitize(t)},style:{color:r}}),(0,n.jsxs)("div",{className:"donut-chart__chart",ref:a,children:[(0,n.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlinkHref:"http://www.w3.org/1999/xlink",viewBox:"-1 -1 2 2",xmlSpace:"preserve",children:[l.map((e,t)=>{let[l,s]=f(p),[c,r]=f(p+=e.fields.percentage/100),a=e.fields.percentage/100>.5?1:0,i=["M ".concat(l," ").concat(s),"A 1 1 0 ".concat(a," 1 ").concat(c," ").concat(r),"L 0 0"].join(" ");return(0,n.jsx)("path",{onMouseEnter:_,"data-index":t,d:i,className:"hoverable-fade",fill:e.fields.color},t)}),(0,n.jsx)("circle",{className:"donut-chart__center",cx:"0",cy:"0",r:"0.65",style:c?{fill:c}:{}})]}),(0,n.jsx)("div",{className:"donut-chart__tooltip",style:x,children:h>-1&&(0,n.jsx)("p",{dangerouslySetInnerHTML:{__html:i().sanitize("".concat(l[h].fields.description,": ").concat(l[h].fields.percentage,"%"))}})})]}),(0,n.jsx)("table",{className:"donut-chart__table",children:l.map((e,t)=>(0,n.jsxs)("tr",{style:{color:r},children:[(0,n.jsx)("td",{children:(0,n.jsx)("svg",{height:"15",width:"15",children:(0,n.jsx)("circle",{cx:"7.5",cy:"7.5",r:"7.5",fill:e.fields.color})})}),(0,n.jsx)("td",{children:(0,n.jsx)("p",{dangerouslySetInnerHTML:{__html:i().sanitize(e.fields.description)}})}),(0,n.jsx)("td",{children:e.fields.percentage+"%"})]},t))})]})};o.displayName="DonutChart",o.propTypes={title:r().string.isRequired,circleColor:r().string},t.default=o}}]);