"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5799,8491],{35799:function(e,a,t){t.r(a);var l=t(85893),s=t(67294),n=t(45697),o=t.n(n),c=t(48491);let d=e=>{let{headline:a,locations:t,defaultLocation:n,anchorId:o,googleMapsAPIKey:d,link:i,linkText:r,enableGtmMap:p,enableGeocodeApi:f}=e,[u,m]=(0,s.useState)(n),[g,x]=(0,s.useState)("en");return(0,s.useEffect)(()=>{let e=document.getElementsByTagName("html")[0].getAttribute("lang");"zh-Hant-TW"===e?x("zh-TW"):x(e?e.substring(0,2):"en")},[]),(0,l.jsx)(c.default,{headline:a,locations:t,selectedLocation:u,renderOptions:e=>e.map(e=>{let{label:a}=e.fields;return u.fields.label!==a&&(0,l.jsx)("option",{"aria-label":a,value:a,children:a},a)}),onSelectChange:e=>{m(t.find(a=>a.fields.label===e.target.value))},anchorId:o,googleMapsAPIKey:d,language:g,link:i,linkText:r,enableGtmMap:p,enableGeocodeApi:f})};d.displayName="ContactMap",d.propTypes={headline:o().string,locations:o().arrayOf(o().object).isRequired,defaultLocation:o().object,anchorId:o().string,googleMapsAPIKey:o().string,link:o().string,linkText:o().string,enableGtmMap:o().bool,enableGeocodeApi:o().bool},a.default=d},48491:function(e,a,t){t.r(a);var l=t(85893),s=t(67294),n=t(45697),o=t.n(n),c=t(63537),d=t(26118);let i=(e,a,t)=>{let l=encodeURIComponent(a);return"https://www.google.com/maps/embed/v1/place?key=".concat(e,"&q=").concat(l,"&language=").concat(t)},r=e=>{if(37===e.keyCode||38===e.keyCode||39===e.keyCode||40===e.keyCode)return e.preventDefault(),!1},p=null,f=null,u=null,m=0,g=e=>{p.geocode({address:e}).then(e=>{let{results:a}=e;f.setCenter(a[0].geometry.location),u.setPosition(a[0].geometry.location)}).catch(e=>{console.info("geocode failed",e)})},x=e=>{let{headline:a,locations:t,selectedLocation:n,renderOptions:o,onSelectChange:x,anchorId:h,language:_,googleMapsAPIKey:b,link:j,linkText:N,enableGtmMap:v,enableGeocodeApi:y}=e,w=(0,s.useRef)(null),[k,C]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=null;return y&&(e=setInterval(()=>{var a,t;let l=document.getElementById("google-map")&&(null===(t=window)||void 0===t?void 0:null===(a=t.google)||void 0===a?void 0:a.maps);l&&C(!0),m+=1,(l||10===m)&&clearInterval(e)},500)),()=>{clearInterval(e)}},[]),(0,s.useEffect)(()=>{y&&k&&(f=new window.google.maps.Map(w.current,{center:{lat:-34.397,lng:150.644},zoom:18}),(u=new window.google.maps.Marker({MAP:f})).setMap(f),p=new window.google.maps.Geocoder,g(n.fields.address))},[k]),(0,s.useEffect)(()=>{y&&k&&p&&(null==n?void 0:n.fields)&&g(n.fields.address)},[n]),(0,l.jsxs)("div",{className:"contact-map",children:[h&&(0,l.jsx)("a",{className:"item-anchor",id:h}),a&&(0,l.jsx)("h2",{className:"contact-map__headline",children:a}),(0,l.jsxs)("div",{className:"contact-map__select-container",children:[(0,l.jsx)("div",{className:"contact-map__select-value",children:n.fields.label}),(0,l.jsxs)("select",{className:"contact-map__select",tabIndex:"0",onKeyDown:r,onChange:x,value:n.fields.label,"aria-label":a,children:[(0,l.jsx)("option",{}),o(t)]})]}),(0,l.jsx)(c.default,{className:"contact-map__address",text:n.fields.address}),(0,l.jsx)(c.default,{className:"contact-map__address",text:n.fields.text}),(0,l.jsx)(c.default,{className:"contact-map__address",text:n.fields.text2}),n.fields.phone&&(0,l.jsx)(c.default,{className:"contact-map__phone",text:"[".concat(n.fields.phone,"](tel:").concat(n.fields.phone,")")}),(0,l.jsx)(c.default,{className:"contact-map__address",text:n.fields.text3}),n.fields.phoneNumber&&(0,l.jsx)(c.default,{className:"contact-map__phone",text:"[".concat(n.fields.phoneNumber,"](tel:").concat(n.fields.phoneNumber,")")}),n.fields.fax&&(0,l.jsx)(c.default,{className:"contact-map__phone",text:"[".concat(n.fields.fax,"](tel:").concat(n.fields.fax,")")}),j&&(0,l.jsxs)("div",{children:[N&&(0,l.jsx)(c.default,{text:N}),(0,l.jsx)(d.default,{...j.props})]}),v?(0,l.jsx)("div",{id:v&&!y?"embedded-map":"",className:y?"contact-map__geocode":"",ref:w}):(0,l.jsx)("iframe",{className:"contact-map__map",title:a,src:i(b,n.fields.address,_)})]})};x.displayName="ContactMapView",x.propTypes={headline:o().string,locations:o().arrayOf(o().object).isRequired,selectedLocation:o().object,renderOptions:o().func,onSelectChange:o().func,anchorId:o().string,googleMapsAPIKey:o().string.isRequired,language:o().string},a.default=x}}]);