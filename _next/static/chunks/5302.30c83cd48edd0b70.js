"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5302],{35302:function(e,s,r){r.r(s),r.d(s,{default:function(){return p}});var a=r(85893),t=r(67294),l=r(29238),n=r.n(l),o=r(93967),i=r.n(o),c=r(91787);let m=function(e,s){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=new Date().toISOString();return{specversion:"1.0",type:"com.pg.consumerevents.identityupdate",source:"/15309/596",id:e,time:a,datacontenttype:"application/cloudevents-batch+json",data:{eventName:"EmailPhone Registration",marketingProgramNumber:"596",sourceId:"15309",email:s,registrationDate:a,languageCode:"en",emailContactPointCategoryCode:"EP",emailValidContactPointIndicator:"Y",countryCode:"USA",opts:[{optId:"596_01",optNumber:"1",optText:"By registering, I confirm I want to receive emails from PG.com and other trusted P&G brands and programs. I also confirm that I am at least 18 years of age and that I have read and agree to the P&G Terms and Conditions and P&G Privacy Policy.",optChoiceDate:a,optIndicator:r.toString(),contactCategory:"EP",contactType:"E",optServiceName:"USA PG Newsroom Blog Newsletter"}],traits:[]}}},d={emailLabel:"Email Address*",emailPlaceholder:"Your Email",fieldsErrorLabel:"Error. Please enter required data",subscribeLabel:"Subscribe",subscribeError:"Error while sending data!",subscribeSuccess:"Successfully subscribed!"},u=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),b=e=>{let{disclaimerText:s,headline:r}=e,[l,o]=(0,t.useState)(""),[b,p]=(0,t.useState)(!1),[h,_]=(0,t.useState)(null),{execute:g,status:v}=(0,c.QO)("prod"),x=(0,t.useId)(),w=()=>{let e=[];return b||e.push("terms"),u(l)||e.push("email"),e.length>0?e:null};return(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s=w();_(s),s||g(m(x,l,b))},className:"newsroom-alert",children:[r&&(0,a.jsx)("p",{className:"newsroom-alert__title",children:r}),(0,a.jsxs)("div",{className:"newsroom-alert__box",children:[(0,a.jsxs)("div",{className:i()("newsroom-alert__email",(null==h?void 0:h.includes("email"))&&"error"),children:[(0,a.jsx)("label",{htmlFor:"newsroom-email",children:d.emailLabel}),(0,a.jsx)("input",{type:"email",id:"newsroom-email",required:!0,placeholder:d.emailPlaceholder,value:l,onChange:e=>o(e.target.value)})]}),(0,a.jsx)("div",{children:"pending"===v?(0,a.jsx)("div",{className:"newsroom-alert__spinner"}):(0,a.jsx)("input",{type:"submit",className:i()("newsroom-alert__submit external-link external-link--blue external-link--button animated event_button_click","success"===v&&"disabled"),value:d.subscribeLabel,"data-action-detail":d.subscribeLabel,disabled:"success"===v})})]}),(0,a.jsx)("div",{className:i()("newsroom-alert__opts",(null==h?void 0:h.includes("terms"))&&"error"),children:(0,a.jsxs)("label",{className:"newsroom__checkbox",htmlFor:"terms",children:[(0,a.jsx)("span",{dangerouslySetInnerHTML:{__html:n().sanitize(s,{ADD_ATTR:["target"]})}}),(0,a.jsx)("input",{type:"checkbox",id:"terms",value:b,checked:b,onChange:()=>p(!b),onKeyDown:e=>"Enter"===e.key&&p(!b)}),(0,a.jsx)("span",{className:"newsroom__checkmark"})]})}),h&&(0,a.jsx)("p",{className:"newsroom-alert__status error",children:d.fieldsErrorLabel}),"success"===v&&(0,a.jsx)("p",{className:"newsroom-alert__status success",children:d.subscribeSuccess}),!h&&"error"===v&&(0,a.jsx)("p",{className:"newsroom-alert__status error",children:d.subscribeError})]})};b.displayName="NewsroomEmailAlert";var p=b}}]);