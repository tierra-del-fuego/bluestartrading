"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3805,312,3430,5355],{40312:function(e,l,t){t.r(l),t.d(l,{CheckBox:function(){return n}});var a=t(85893);t(67294);let n=e=>{let{label:l,value:t,checked:n,toggleOption:r}=e;return(0,a.jsxs)("label",{className:"pdf__checkbox",children:[l,(0,a.jsx)("input",{type:"checkbox",id:t,value:t,checked:n,onChange:()=>r(t),onKeyDown:e=>"Enter"===e.key&&r(t)}),(0,a.jsx)("span",{className:"pdf__checkmark"})]})};n.displayName="CheckBox",l.default=n},53805:function(e,l,t){t.r(l),t.d(l,{CitizenshipReportBuilder:function(){return p}});var a=t(85893),n=t(67294),r=t(13430),i=t(40312),s=t(55355),d=t(70014);let o="00_".concat(d.Z.frontCoverPdfFile),c="99_".concat(d.Z.backCoverPdfFile),p=e=>{let{fullPdfReportLink:l,groups:t}=e,[p,u]=(0,n.useState)([]),[f,h]=(0,n.useState)(!1),m=e=>{f&&h(!1),u(l=>l.includes(e)?l.filter(l=>l!==e):[...l,e])};return(0,a.jsxs)("div",{className:"cr-builder",children:[(0,a.jsx)("div",{className:"cr-builder__items",children:t.map(e=>(0,a.jsx)(r.default,{headline:e.headline,pdfs:e.pdfs,toggleOption:m,selectedOptions:p},e.headline))}),(0,a.jsx)(i.default,{label:d.Z.selectAll,value:"select-all",checked:f,toggleOption:()=>{let e=[];f||(e=t.flatMap(e=>e.pdfs.map(e=>e.pdfFileName))),u(e),h(!f)}}),(0,a.jsx)(s.default,{pdfUrls:f?null:p,frontCoverPdf:o,backCoverPdf:c,downloadLabel:p.length&&!f?d.Z.dowloadGeneratedReport:d.Z.downloadFullReport,pathPrefix:"citizenship2023",outputFilename:d.Z.outputFilename,fullPdfUrl:l})]})};p.displayName="CitizenshipReportBuilder",l.default=p},13430:function(e,l,t){t.r(l),t.d(l,{PdfGroup:function(){return s}});var a=t(85893);t(67294);var n=t(45697),r=t.n(n),i=t(40312);let s=e=>{let{headline:l,toggleOption:t,pdfs:n,selectedOptions:r}=e;return(0,a.jsxs)("div",{className:"pdf-group",children:[(0,a.jsx)("h3",{className:"pdf-group__headline",children:l}),(0,a.jsx)("ul",{className:"pdf-group__list",children:n.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(i.default,{label:e.title,value:e.pdfFileName,checked:r.includes(e.pdfFileName),toggleOption:t})},e.pdfFileName))})]})};s.displayName="PdfGroup",s.propTypes={headline:r().string.isRequired},l.default=s},55355:function(e,l,t){t.r(l);var a=t(85893),n=t(67294),r=t(93967),i=t.n(r),s=t(70014);let d=async(e,l)=>{let t=await e.PDFDocument.create(),a=l.length;for(let n=0;n<a;n++){let a=await fetch(l[n]).then(e=>e.arrayBuffer()),r=await e.PDFDocument.load(a),i=r.getPageCount();for(let e=0;e<i;e++){let[l]=await t.copyPages(r,[e]);t.addPage(l)}}let n=await t.saveAsBase64({dataUri:!0});return n.substring(n.indexOf(",")+1)},o=(e,l)=>{let t=document.createElement("a");t.href="data:application/octet-stream;base64,".concat(e),t.download="".concat(l,".pdf"),t.click()},c=(e,l)=>e.sort().map(e=>"".concat(l?"/"+l:"","/").concat(e.substring(3),".pdf")),p=e=>{let{downloadLabel:l,pdfUrls:r,pathPrefix:p,outputFilename:u="document",fullPdfUrl:f,frontCoverPdf:h,backCoverPdf:m}=e,[g,_]=(0,n.useState)(null),[x,N]=(0,n.useState)(!1),[b,j]=(0,n.useState)(""),k=(null==r?void 0:r.length)?"button":"a",v=null;r&&(v=[h,...r,m]),(0,n.useEffect)(()=>{t.e(9055).then(t.bind(t,99055)).then(e=>_(e)).catch(()=>{console.error(s.Z.errors.loading),j(s.Z.errors.loading)})},[]);let P="".concat("button"===k?u+".pdf":f,", ").concat(l);return(0,a.jsx)("div",{className:"pdf-mrg",children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(k,{..."button"===k?{onClick:()=>{if(x)return null;N(!0),d(g,c(v,p)).then(e=>o(e,u)).catch(()=>{console.error(s.Z.errors.merging),j(s.Z.errors.merging)}).finally(()=>N(!1))},type:"button"}:{href:f,download:!0},className:i()("external-link external-link--button external-link--blue animated","event_file_download","pdf-mrg__button",x&&"loading"),"data-action-detail":P,children:[(0,a.jsxs)("span",{className:"pdf-mrg__label",children:[(0,a.jsx)("span",{className:"pdf-mrg__icon"}),l]}),(0,a.jsx)("span",{className:i()("pdf-mrg__spinner",!x&&"d-none")})]}),b&&(0,a.jsx)("div",{className:"pdf-mrg__error",children:(0,a.jsx)("p",{children:b})})]}):(0,a.jsxs)("div",{className:"pdf-mrg__error",children:[(0,a.jsx)("span",{className:"pdf-mrg__spinner"}),b&&(0,a.jsx)("p",{children:b})]})})};p.displayName="PdfMerger",l.default=p},70014:function(e,l){l.Z={errors:{loading:"Error loading PDF library.",merging:"Error merging PDFs."},outputFilename:"P&G_2023_Citizenship_Report",selectAll:"Select all sections",downloadFullReport:"DOWNLOAD ENTIRE REPORT",dowloadGeneratedReport:"DOWNLOAD GENERATED REPORT",frontCoverPdfFile:"PG_2023_Citizenship_Report_Front",backCoverPdfFile:"PG_2023_Citizenship_Report_Back"}}}]);